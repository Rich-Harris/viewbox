!function(a){"use strict";var b=function(){return function(a,b,c){var d;for(d=0;d<a.length&&!c.requestAnimationFrame;++d)c.requestAnimationFrame=c[a[d]+"RequestAnimationFrame"],c.cancelAnimationFrame=c[a[d]+"CancelAnimationFrame"]||c[a[d]+"CancelRequestAnimationFrame"];c.requestAnimationFrame||(c.requestAnimationFrame=function(a){var d,e,f;return d=Date.now(),e=Math.max(0,16-(d-b)),f=c.setTimeout(function(){a(d+e)},e),b=d+e,f}),c.cancelAnimationFrame||(c.cancelAnimationFrame=function(a){c.clearTimeout(a)})}(["ms","moz","webkit","o"],0,window),window.requestAnimationFrame}(),c=function(a){a._elWidth=a.svg.offsetWidth,a._elHeight=a.svg.offsetHeight,a._aspectRatio=a._elWidth/a._elHeight,a._ctm=a.svg.getScreenCTM(),a._dirty=!1},d=function(a,b,c,d,e){var f={};return e>c/d?(f.width=d*e,f.height=d,f.x=a-(f.width-c)/2,f.y=b):(f.width=c,f.height=c/e,f.x=a,f.y=b-(f.height-d)/2),f},e=function(a,b,c,d,e){var f={};return c/d>e?(f.width=d*e,f.height=d,f.x=a+(c-f.width)/2,f.y=b):(f.width=c,f.height=c/e,f.x=a,f.y=b+(d-f.height)/2),f},f=function(a,b,c){return function(a,d,e,f,g,h,i){var j,k,l,m,n,o,p,q,r,s;return n=e/f,k=b(a,d,e,f,g/h),j=g/k.width,o=1,void 0!==i.maxZoom&&j>i.maxZoom&&(o=i.maxZoom/j),void 0!==i.left&&void 0!==i.right&&(p=g/(i.right-i.left)),void 0!==i.top&&void 0!==i.bottom&&(q=h/(i.bottom-i.top)),r=Math.max(p||0,q||0),s=Math.max(r/j,o),1!==s&&(l=k.x+k.width/2,m=k.y+k.height/2,k.width/=s,k.height/=s,k.x=l-k.width/2,k.y=m-k.height/2),void 0!==i.left&&k.x<i.left&&(k.x=i.left),void 0!==i.right&&k.x+k.width>i.right&&(k.x=i.right-k.width),void 0!==i.top&&k.y<i.top&&(k.y=i.top),void 0!==i.bottom&&k.y+k.height>i.bottom&&(k.y=i.bottom-k.height),c(k.x,k.y,k.width,k.height,n)}}(c,d,e),g={linear:function(a){return a},easeIn:function(a){return Math.pow(a,3)},easeOut:function(a){return Math.pow(a-1,3)+1},easeInOut:function(a){return(a/=.5)<1?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)}},h=function(a,b){a.x=b.x,a.y=b.y,a.width=b.width,a.height=b.height,a.svg.setAttribute("viewBox",a.toString()),a._dirty=!0},i=function(a,b,c,d){var e=function(e,f,g,h){var i,j,k,l,m,n,o,p,q,r,s,t,u,h,v,w=this;i=c(f.x,f.y,f.width,f.height,e._elWidth,e._elWidth,e.constraints),j=b(e.x,e.y,e.width,e.height,e._aspectRatio),k=b(i.x,i.y,i.width,i.height,e._aspectRatio),d(e,j),l=j.x,m=j.y,n=j.width,o=j.height,p=k.x-l,q=k.y-m,r=k.width-n,s=k.height-o,u=void 0!==g.duration?g.duration:400,v=function(){var b,c,f;if(w.running){if(b=Date.now(),c=b-t,c>u)return d(e,i),void(g.complete&&g.complete.call(e,1));f=h(c/u),d(e,{x:l+f*p,y:m+f*q,width:n+f*r,height:o+f*s}),g.step&&g.step.call(e,f),a(v)}},this.running=!0,t=Date.now(),v()};return e.prototype.stop=function(){this.running=!1},e}(b,d,f,h),j=function(a,b,c){function d(a){return a*a}function e(a,b){return Math.sqrt(d(b.x-a.x)+d(b.y-a.y))}function f(a,b,c){return a+(b-a)*c}function g(a,b,c){return{x:f(a.x,b.x,c),y:f(a.y,b.y,c)}}function h(a){return(Math.exp(a)+Math.exp(-a))/2}function i(a){return(Math.exp(a)-Math.exp(-a))/2}function j(a){return i(a)/h(a)}var k,l=.9,m=1.42;return k=function(f,k,n,o){function p(a){var b=d(z)-d(y)+(a?-1:1)*Math.pow(C,4)*d(G-F),c=2*(a?z:y)*d(C)*(G-F);return b/c}function q(a){return Math.log(-a+Math.sqrt(d(a)+1))}function r(a){var b=y/d(C),c=b*h(H)*j(C*a+H),e=b*i(H);return c-e+F}function s(a){return y*h(H)/h(C*a+H)}var t,u,v,w,x,y,z,A,B,C,D,E=this;w={x:f.x+f.width/2,y:f.y+f.height/2},x={x:k.x+k.width/2,y:k.y+k.height/2},t=b(f.x,f.y,f.width,f.height,f._elWidth/f._elHeight),u=b(k.x,k.y,k.width,k.height,f._elWidth/f._elHeight),c(f,t),y=t.width,z=u.width,void 0===n.V&&(B=l),void 0===n.rho&&(C=m),A=t.width/t.height;var F=0,G=e(w,x),H=q(p(0)),I=q(p(1)),J=(I-H)/C;if(D=1/J,Math.abs(F-G)<1e-6){if(Math.abs(y-z)<1e-6)return;var K=y>z?-1:1;J=Math.abs(Math.log(z/y))/C,r=function(){return F},s=function(a){return y*Math.exp(K*C*a)}}var L=Date.now();v=function(){var b,d,e,h,i,j,l;if(E.running){if(b=Date.now(),d=(b-L)/1e3,e=B*d,e>J)return f.set(k),void(n.complete&&n.complete.call(f));a(v),h=o(e*D)/D,i=g(w,x,(r(h)-F)/(G-F)),j=s(h),l=j/A,c(f,{x:i.x-j/2,y:i.y-l/2,width:j,height:l}),n.step&&n.step.call(f)}},this.running=!0,v()},k.prototype.stop=function(){this.running=!1},k}(b,d,h),k=function(a,b,c,d,e,f,g,h){function i(a){return a}var j={};return function(a,d,e,k,l){var m,n;this._dirty&&b(this),"object"==typeof a&&(l=d,e=void 0!==a.width?a.width:this.width,k=void 0!==a.height?a.height:this.height,d=void 0!==a.y?a.y:this.y,a=void 0!==a.x?a.x:this.x),l=l||j,this.animation&&this.animation.stop(),m=c(a,d,e,k,this._elWidth,this._elHeight,this.constraints),n=("function"==typeof l.easing?l.easing:f[l.easing])||i,this.animation=l.smooth?new h(this,m,l,n):new g(this,m,l,n)}}(b,c,f,d,e,g,i,j),l=function(a){return function(b,c){var d,e;return this._dirty&&a(this),"object"==typeof b&&(c=b.y,b=b.x),d=this._ctm,e=d.a,{x:b*e+d.e,y:c*e+d.f}}}(c),m=function(a){return function(b,c){var d,e;return this._dirty&&a(this),"object"==typeof b&&(c=b.y,b=b.x),d=this._ctm,e=d.a,{x:(b-d.e)/e,y:(c-d.f)/e}}}(c),n=function(a){return function(){return this._dirty&&a(this),Math.min(this._elWidth/this.width,this._elHeight/this.height)}}(c),o=function(a,b,c){return function(d,e,f){var g,h,i,j;this._dirty&&a(this),"object"==typeof d&&(f=d.animate,e=d.dy,d=d.dx),g=this.getZoom(),h=this.x-d/g,i=this.y-e/g,j=c(h,i,this.width,this.height,this._elWidth,this._elHeight,this.constraints),f?this.animate(j,f):b(this,j)}}(c,h,f),p=function(a,b){var c;if(b)for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c])},q=function(a,b,c,d,e){return function(d,f,g,h,i){var j;this._dirty&&a(this),"object"==typeof d?(i=f,this.x=d.x,this.y=d.y,this.width=d.width,this.height=d.height):(this.x=d,this.y=f,this.width=g,this.height=h),b(this.constraints,i),j=c(this.x,this.y,this.width,this.height,this._elWidth,this._elHeight,this.constraints),e(this,j)}}(c,p,f,d,h),r=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,constraints:this.constraints}},s=function(){return this.x+" "+this.y+" "+this.width+" "+this.height},t=function(a,b,c,d){var e,f,g,h,i,j;return g=a.width/d,h=a.height/d,i=b-a.x,j=c-a.y,e=b-i/d,f=c-j/d,{x:e,y:f,width:g,height:h}},u=function(a,b,c){return function(d,e,f,g){var h,i,j,k,l;if("object"==typeof d&&(f=d.factor,g=d.animate,e=d.y,d=d.x),isNaN(d)||isNaN(e)||isNaN(f))throw new Error("Bad arguments: "+Array.prototype.slice.call(arguments).join(", "));h=this.getSvgCoords(d,e),void 0!==this.maxZoom&&(f=Math.min(f,this.maxZoom/this.getZoom())),void 0!==this.left&&void 0!==this.right&&(k=this.right-this.left,f=Math.max(f,this.width/k)),void 0!==this.top&&void 0!==this.bottom&&(l=this.bottom-this.top,f=Math.max(f,this.height/l)),i=a(this,h.x,h.y,f),j=b(i.x,i.y,i.width,i.height,this._elWidth,this._elHeight,this.constraints),g?this.animate(j,g):c(this,j)}}(t,f,h),v=function(a){return function(b){function c(c){b._dirty&&a(b),j=b.getZoom(),h=c.clientX,i=c.clientY,g=!0,window.addEventListener("mousemove",d,!1),window.addEventListener("mouseup",e,!1)}function d(a){g&&(b.pan((a.clientX-h)/j,(a.clientY-i)/j),h=a.clientX,i=a.clientY)}function e(){g=!1,window.removeEventListener("mousemove",d,!1),window.removeEventListener("mouseup",e,!1)}var f,g,h,i,j;f=b.svg,f.addEventListener("mousedown",c,!1)}}(c),w=function(){var a;return window.performance&&"function"==typeof window.performance.now?a=function(){return window.performance.now()}:("function"!=typeof Date.now&&(Date.now=function(){return new Date.getTime}),a=function(){return Date.now()}),a}(),x=function(a,b,c){function d(a){return a*a}return function(a,e){function f(a){var c,d,e,f;for(f=b(),e=a.changedTouches.length;e--;)c=a.changedTouches[e],d={x:c.clientX,y:c.clientY,px:c.clientX,py:c.clientY,vx:0,vy:0,dx:0,dy:0,t:f,id:c.identifier},m.push(d),n[c.identifier]=d;k||(window.addEventListener("touchmove",g,!1),window.addEventListener("touchend",h,!1),window.addEventListener("touchcancel",h,!1),l={},k=!0)}function g(c){var f,g,h,i,j,k,l,o,p,q,r,s,t,u;for(l=b(),k=c.changedTouches.length;k--;)f=c.changedTouches[k],g=n[f.identifier],g&&(j=!0,o=l-g.t,g.vx=(f.clientX-g.x)/o,g.vy=(f.clientY-g.y)/o,g.t=l,g.dx=f.clientX-g.x,g.dy=f.clientY-g.y,g.px=g.x,g.py=g.y,g.x=f.clientX,g.y=f.clientY);j&&(c.preventDefault(),m.length>=2&&(e.pinchZoom||e.twoFingerDrag)?(h=m[0],i=m[1],(e.twoFingerDrag||e.pinchZoom)&&(p=(h.dx+i.dx)/2,q=(h.dy+i.dy)/2),e.pinchZoom&&(s=Math.sqrt(d(h.px-i.px)+d(h.py-i.py)),t=Math.sqrt(d(h.x-i.x)+d(h.y-i.y)),r=t/s,140>t&&(u=Math.min(t-100,0)/40,r=Math.pow(r,u)))):m.length>=1&&e.singleFingerDrag&&(p=m[0].dx,q=m[0].dy),(p||q)&&a.pan(p,q),void 0!==r&&1!==r&&a.zoom((h.x+i.x)/2,(h.y+i.y)/2,r))}function h(d){var f,g,h,j,l,o,p;if(k){for(p=m.length,o=d.changedTouches.length;o--;)f=d.changedTouches[o],g=n[f.identifier],g&&(l=!0,p-=1,g.inactive=!0);for(h=m[0],m.length>=2&&2>p?a.inertia&&e.twoFingerDrag&&!e.singleFingerDrag&&(j=m[1],a._velocity={x:(h.vx+j.vx)/2,y:(h.vy+j.vy)/2,t:b()},c(a._applyInertia),i()):m.length>=1&&!p&&a.inertia&&e.singleFingerDrag&&(a._velocity={x:h.vx,y:h.vy,t:b()},c(a._applyInertia),i()),o=m.length;o--;)g=m[o],(!k||g.inactive)&&(m.splice(o,1),n[g.id]=null);l&&d.preventDefault()}}function i(){window.removeEventListener("touchmove",g,!1),window.removeEventListener("touchend",h,!1),window.removeEventListener("touchcancel",h,!1),k=!1}var j,k,l,m=[],n={};j=a.svg,j.addEventListener("touchstart",f,!1)}}(c,w,b),y=function(a,b){return function(c){var d,e,f,g,h;c.inertia&&c._velocity&&(e=c._velocity,d=b(),f=d-e.t,c.pan(e.x*f,e.y*f),h=Math.pow(.99,f),e.x*=h,e.y*=h,g=Math.sqrt(e.x*e.x+e.y*e.y),.001>g||(e.t=d,a(c._applyInertia)))}}(b,w),z=function(a){var b=a.split(" ");return{x:+b[0],y:+b[1],width:+b[2],height:+b[3]}},A=function(a){return function(b){var c,d,e,f;return c=b.getAttribute("viewBox"),c?a(c):(d=b.getAttribute("width"),e=b.getAttribute("height"),d||e||(f=b.getBoundingClientRect(),d=f.width,e=f.height),{x:0,y:0,width:d||100,height:e||100})}}(z),B=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p,q={};return p=function(a,b){var c,d=this;if(!(a instanceof SVGSVGElement))throw new Error("First argument must be an svg element");b=b||q,this.svg=a,this.constraints=b.constraints||{},this.dirty=function(){d._dirty=!0},window.addEventListener("resize",this.dirty),window.addEventListener("scroll",this.dirty),c=o(this.svg),"x"in b&&(c.x=b.x),"y"in b&&(c.y=b.y),"width"in b&&(c.width=b.width),"height"in b&&(c.height=b.height),m(this),this.set(c),this.inertia=!!b.inertia,this._applyInertia=function(){l(d)},b.mouseDrag&&j(this),"ontouchstart"in this.svg&&(b.singleFingerDrag||b.twoFingerDrag||b.pinchZoom)&&k(this,b)},p.prototype={animate:a,getClientCoords:b,getSvgCoords:c,getZoom:d,pan:e,set:f,toJSON:g,toString:h,zoom:i},p.easing=n,p}(k,l,m,n,o,q,r,s,u,v,x,y,c,g,A);"undefined"!=typeof module&&module.exports?module.exports=B:"undefined"!=typeof define&&define.amd?define(function(){return B}):a.ViewBox=B}("undefined"!=typeof window?window:this);